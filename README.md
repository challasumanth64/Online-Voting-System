# Live Polling System

Full-stack project generated by ChatGPT.

## Tech
- Backend: Node.js, Express, Socket.IO
- Frontend: React (Vite), socket.io-client

## Run locally

### 1) Server
```bash
cd server
cp .env.example .env
# Edit .env with your values
npm i
npm run start
```

### 2) Client
```bash
cd ../client
npm i
npm run dev
```

Open the printed URL (default http://localhost:5173).

## ENV
- Server: `PORT`, `ORIGIN`, `TEACHER_SECRET`
- Client: `VITE_SERVER_URL`

## Deploy to Render

This project includes a `render.yaml` file for easy deployment to Render.

1. Fork this repository to your GitHub account
2. Go to https://dashboard.render.com/blueprint/new
3. Connect your GitHub account and select your forked repository
4. Render will automatically detect the `render.yaml` file and deploy both services
5. After deployment, update the environment variables in the Render dashboard:
   - For the backend service:
     - `ORIGIN`: Set to your frontend URL (e.g., https://live-polling-frontend.onrender.com)
     - `TEACHER_SECRET`: Set to a secure secret key
   - For the frontend service:
     - `VITE_SERVER_URL`: Set to your backend URL (e.g., https://live-polling-backend.onrender.com)

### Manual Deployment (Alternative)

If you prefer to deploy manually:

#### Backend
1. Create a new Web Service on Render
2. Connect it to your repository
3. Set the build command to: `npm install --prefix server`
4. Set the start command to: `npm start --prefix server`
5. Add environment variables in the Render dashboard:
   - `PORT`: 4000
   - `ORIGIN`: https://your-frontend-url.onrender.com (or comma-separated list for multiple origins)
   - `TEACHER_SECRET`: your-secret-key (change this to a secure value)

#### Frontend
1. Create a new Static Site on Render
2. Connect it to your repository
3. Set the build command to: `npm install --prefix client && npm run build --prefix client`
4. Set the publish directory to: `client/dist`
5. Add environment variables in the Render dashboard:
   - `VITE_SERVER_URL`: https://your-backend-url.onrender.com

## Project Structure
- `client/`: React frontend
- `server/`: Node.js/Express backend

## Security Note
The `.env` file is included in `.gitignore` and should NOT be committed to the repository. When deploying, set your environment variables in the platform's dashboard (e.g., Render) rather than using a `.env` file.